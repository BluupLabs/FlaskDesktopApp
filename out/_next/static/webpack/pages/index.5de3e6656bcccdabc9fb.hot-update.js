webpackHotUpdate_N_E("pages/index",{

/***/ "./lib/puck.js":
/*!*********************!*\
  !*** ./lib/puck.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* eslint-disable */\n\n/*\n --------------------------------------------------------------------\n Puck.js BLE Interface library\n Copyright 2016 Gordon Williams (gw@pur3.co.uk)\n --------------------------------------------------------------------\n This Source Code Form is subject to the terms of the Mozilla Public\n License, v. 2.0. If a copy of the MPL was not distributed with this\n file, You can obtain one at http://mozilla.org/MPL/2.0/.\n --------------------------------------------------------------------\n This creates a 'Puck' object that can be used from the Web Browser.\n\n Simple usage:\n\n Puck.write('LED1.set()\\n')\n\n Execute expression and return the result:\n\n Puck.eval('BTN.read()', function(d) {\n alert(d);\n });\n\n Or write and wait for a result - this will return all characters,\n including echo and linefeed from the REPL so you may want to send\n `echo(0)` and use `console.log` when doing this.\n\n Puck.write('1+2\\n', function(d) {\n alert(d);\n });\n\n Or more advanced usage with control of the connection\n - allows multiple connections\n\n Puck.connect(function(connection) {\n if (!connection) throw 'Error!';\n connection.on('data', function(d) { ... });\n connection.on('close', function() { ... });\n connection.write('1+2\\n', function() {\n connection.close();\n });\n });\n\n */\nvar Puck = function () {\n  var errorStr, errorURL;\n  if (typeof navigator == 'undefined') return;\n\n  function checkIfSupported() {\n    // Hack for windows\n    if (navigator.platform.indexOf('Win') >= 0 && (navigator.userAgent.indexOf('Chrome/54') >= 0 || navigator.userAgent.indexOf('Chrome/55') >= 0 || navigator.userAgent.indexOf('Chrome/56') >= 0)) {\n      console.warn('Chrome <56 in Windows has navigator.bluetooth but it\\'s not implemented properly');\n      if (confirm('Web Bluetooth on Windows is not yet available.\\nPlease click Ok to see other options for using Web Bluetooth')) window.location = 'https://www.espruino.com/Puck.js+Quick+Start';\n      return false;\n    }\n\n    if (navigator.bluetooth) return true;\n    console.warn('No Web Bluetooth on this platform');\n    var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\n    if (iOS) {\n      if (confirm('To use Web Bluetooth on iOS you\\'ll need the WebBLE App.\\nPlease click Ok to go to the App Store and download it.')) {\n        window.location = 'https://itunes.apple.com/us/app/webble/id1193531073';\n      }\n    } else {\n      if (confirm('This Web Browser doesn\\'t support Web Bluetooth.\\nPlease click Ok to see instructions for enabling it.')) {\n        window.location = 'https://www.espruino.com/Puck.js+Quick+Start';\n      }\n    }\n\n    return false;\n  }\n\n  var NORDIC_SERVICE = '6e400001-b5a3-f393-e0a9-e50e24dcca9e';\n  var NORDIC_TX = '6e400002-b5a3-f393-e0a9-e50e24dcca9e';\n  var NORDIC_RX = '6e400003-b5a3-f393-e0a9-e50e24dcca9e';\n  var CHUNKSIZE = 16;\n\n  function log(level, s) {\n    if (puck.log) puck.log(level, s);\n  }\n\n  function ab2str(buf) {\n    return String.fromCharCode.apply(null, new Uint8Array(buf));\n  }\n\n  function str2ab(str) {\n    var buf = new ArrayBuffer(str.length);\n    var bufView = new Uint8Array(buf);\n\n    for (var i = 0, strLen = str.length; i < strLen; i++) {\n      bufView[i] = str.charCodeAt(i);\n    }\n\n    return buf;\n  }\n\n  function connect(callback) {\n    if (!checkIfSupported()) return;\n    var connection = {\n      on: function on(evt, cb) {\n        this['on' + evt] = cb;\n      },\n      emit: function emit(evt, data) {\n        if (this['on' + evt]) this['on' + evt](data);\n      },\n      isOpen: false,\n      isOpening: true,\n      txInProgress: false\n    };\n    var btServer = undefined;\n    var btService;\n    var connectionDisconnectCallback;\n    var txCharacteristic;\n    var rxCharacteristic;\n    var txDataQueue = [];\n\n    connection.close = function () {\n      connection.isOpening = false;\n\n      if (connection.isOpen) {\n        connection.isOpen = false;\n        connection.emit('close');\n      } else {\n        if (callback) callback(null);\n      }\n\n      if (btServer) {\n        btServer.disconnect();\n        btServer = undefined;\n        txCharacteristic = undefined;\n        rxCharacteristic = undefined;\n      }\n    };\n\n    connection.write = function (data, callback) {\n      if (data) txDataQueue.push({\n        data: data,\n        callback: callback\n      });\n      if (connection.isOpen && !connection.txInProgress) writeChunk();\n\n      function writeChunk() {\n        var chunk;\n        if (!txDataQueue.length) return;\n        var txItem = txDataQueue[0];\n\n        if (txItem.data.length <= CHUNKSIZE) {\n          chunk = txItem.data;\n          txItem.data = undefined;\n        } else {\n          chunk = txItem.data.substr(0, CHUNKSIZE);\n          txItem.data = txItem.data.substr(CHUNKSIZE);\n        }\n\n        connection.txInProgress = true;\n        log(2, 'Sending ' + JSON.stringify(chunk));\n        txCharacteristic.writeValue(str2ab(chunk)).then(function () {\n          log(3, 'Sent');\n\n          if (!txItem.data) {\n            txDataQueue.shift(); // remove this element\n\n            if (txItem.callback) txItem.callback();\n          }\n\n          connection.txInProgress = false;\n          writeChunk();\n        })[\"catch\"](function (error) {\n          log(1, 'SEND ERROR: ' + error);\n          txDataQueue = [];\n          connection.close();\n        });\n      }\n    };\n\n    navigator.bluetooth.requestDevice({\n      filters: [{\n        namePrefix: 'Flask'\n      }, {\n        namePrefix: 'Espruino'\n      }, {\n        services: [NORDIC_SERVICE]\n      }],\n      optionalServices: [NORDIC_SERVICE]\n    }).then(function (device) {\n      log(1, 'Device Name:       ' + device.name);\n      log(1, 'Device ID:         ' + device.id); // Was deprecated: Should use getPrimaryServices for this in future\n      //log('BT>  Device UUIDs:      ' + device.uuids.join('\\n' + ' '.repeat(21)));\n\n      device.addEventListener('gattserverdisconnected', function () {\n        log(1, 'Disconnected (gattserverdisconnected)');\n        connection.close();\n      });\n      return device.gatt.connect();\n    }).then(function (server) {\n      log(1, 'Connected');\n      btServer = server;\n      return server.getPrimaryService(NORDIC_SERVICE);\n    }).then(function (service) {\n      log(2, 'Got service');\n      btService = service;\n      return btService.getCharacteristic(NORDIC_RX);\n    }).then(function (characteristic) {\n      rxCharacteristic = characteristic;\n      log(2, 'RX characteristic:' + JSON.stringify(rxCharacteristic));\n      rxCharacteristic.addEventListener('characteristicvaluechanged', function (event) {\n        var value = event.target.value.buffer; // get arraybuffer\n\n        connection.emit('data', ab2str(value));\n      });\n      return rxCharacteristic.startNotifications();\n    }).then(function () {\n      return btService.getCharacteristic(NORDIC_TX);\n    }).then(function (characteristic) {\n      txCharacteristic = characteristic;\n      log(2, 'TX characteristic:' + JSON.stringify(txCharacteristic));\n    }).then(function () {\n      connection.txInProgress = false;\n      connection.isOpen = true;\n      connection.isOpening = false;\n      callback(connection);\n      connection.emit('open'); // if we had any writes queued, do them now\n\n      connection.write();\n    })[\"catch\"](function (error) {\n      log(1, 'ERROR: ' + error);\n      connection.close();\n    });\n    return connection;\n  }\n\n  ; // ----------------------------------------------------------\n\n  var connection;\n  /* convenience function... Write data, call the callback with data:\n   callbackNewline = false => if no new data received for ~0.5 sec\n   callbackNewline = true => after a newline */\n\n  function write(data, callback, callbackNewline) {\n    if (!checkIfSupported()) return;\n    var cbTimeout;\n\n    function onWritten() {\n      isWriting = false;\n\n      if (callback) {\n        if (callbackNewline) {\n          connection.cb = function (d) {\n            var newLineIdx = connection.received.indexOf('\\n');\n\n            if (newLineIdx >= 0) {\n              var l = connection.received.substr(0, newLineIdx);\n              connection.received = connection.received.substr(newLineIdx + 1);\n              connection.cb = undefined;\n              if (cbTimeout) clearTimeout(cbTimeout);\n              cbTimeout = undefined;\n              if (callback) callback(l);\n            }\n          };\n        } // wait for any received data if we have a callback...\n\n\n        var waitTime = 10;\n        var maxTime = waitTime;\n        cbTimeout = setTimeout(function timeout() {\n          cbTimeout = undefined;\n\n          if ((connection.hadData || maxTime == waitTime) && maxTime--) {\n            cbTimeout = setTimeout(timeout, 250);\n          } else {\n            connection.cb = undefined;\n            if (callback) callback(connection.received);\n            connection.received = '';\n          }\n\n          connection.hadData = false;\n        }, 250);\n      } else connection.received = '';\n    }\n\n    if (connection && (connection.isOpen || connection.isOpening)) {\n      if (!connection.txInProgress) connection.received = '';\n      return connection.write(data, onWritten);\n    }\n\n    connection = connect(function (puck) {\n      if (!puck) {\n        connection = undefined;\n        if (callback) callback(null);\n        return;\n      }\n\n      connection.received = '';\n      connection.on('data', function (d) {\n        connection.received += d;\n        connection.hadData = true;\n        if (connection.cb) connection.cb(d);\n      });\n      connection.on('close', function (d) {\n        connection = undefined;\n      });\n    });\n    connection.write(data, onWritten);\n  } // ----------------------------------------------------------\n\n\n  var puck = {\n    /// Are we writing debug information? 0 is no, 1 is some, 2 is more, 3 is all.\n    debug: 1,\n    /// Used internally to write log information - you can replace this with your own function\n    log: function log(level, s) {\n      if (level <= this.debug) console.log('<BLE> ' + s);\n    },\n\n    /** Connect to a new device - this creates a separate\n     connection to the one `write` and `eval` use. */\n    connect: connect,\n    /// Write to Puck.js and call back when the data is written.  Creates a connection if it doesn't exist\n    write: write,\n    /// Evaluate an expression and call cb with the result. Creates a connection if it doesn't exist\n    eval: function _eval(expr, cb) {\n      if (!checkIfSupported()) return;\n      write('\\x10Bluetooth.println(JSON.stringify(' + expr + '))\\n', function (d) {\n        if (d !== null) cb(JSON.parse(d));else cb(null);\n      }, true);\n    },\n    /// Did `write` and `eval` manage to create a connection?\n    isConnected: function isConnected() {\n      return connection !== undefined;\n    },\n    /// get the connection used by `write` and `eval`\n    getConnection: function getConnection() {\n      return connection;\n    },\n    /// Close the connection used by `write` and `eval`\n    close: function close() {\n      if (connection) connection.close();\n    }\n  };\n  return puck;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Puck);\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/next/dist/compiled/webpack/harmony-module.js */ \"./node_modules/next/dist/compiled/webpack/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL3B1Y2suanM/MjU1YiJdLCJuYW1lcyI6WyJQdWNrIiwiZXJyb3JTdHIiLCJlcnJvclVSTCIsIm5hdmlnYXRvciIsImNoZWNrSWZTdXBwb3J0ZWQiLCJwbGF0Zm9ybSIsImluZGV4T2YiLCJ1c2VyQWdlbnQiLCJjb25zb2xlIiwid2FybiIsImNvbmZpcm0iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImJsdWV0b290aCIsImlPUyIsInRlc3QiLCJNU1N0cmVhbSIsIk5PUkRJQ19TRVJWSUNFIiwiTk9SRElDX1RYIiwiTk9SRElDX1JYIiwiQ0hVTktTSVpFIiwibG9nIiwibGV2ZWwiLCJzIiwicHVjayIsImFiMnN0ciIsImJ1ZiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5IiwiVWludDhBcnJheSIsInN0cjJhYiIsInN0ciIsIkFycmF5QnVmZmVyIiwibGVuZ3RoIiwiYnVmVmlldyIsImkiLCJzdHJMZW4iLCJjaGFyQ29kZUF0IiwiY29ubmVjdCIsImNhbGxiYWNrIiwiY29ubmVjdGlvbiIsIm9uIiwiZXZ0IiwiY2IiLCJlbWl0IiwiZGF0YSIsImlzT3BlbiIsImlzT3BlbmluZyIsInR4SW5Qcm9ncmVzcyIsImJ0U2VydmVyIiwidW5kZWZpbmVkIiwiYnRTZXJ2aWNlIiwiY29ubmVjdGlvbkRpc2Nvbm5lY3RDYWxsYmFjayIsInR4Q2hhcmFjdGVyaXN0aWMiLCJyeENoYXJhY3RlcmlzdGljIiwidHhEYXRhUXVldWUiLCJjbG9zZSIsImRpc2Nvbm5lY3QiLCJ3cml0ZSIsInB1c2giLCJ3cml0ZUNodW5rIiwiY2h1bmsiLCJ0eEl0ZW0iLCJzdWJzdHIiLCJKU09OIiwic3RyaW5naWZ5Iiwid3JpdGVWYWx1ZSIsInRoZW4iLCJzaGlmdCIsImVycm9yIiwicmVxdWVzdERldmljZSIsImZpbHRlcnMiLCJuYW1lUHJlZml4Iiwic2VydmljZXMiLCJvcHRpb25hbFNlcnZpY2VzIiwiZGV2aWNlIiwibmFtZSIsImlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdhdHQiLCJzZXJ2ZXIiLCJnZXRQcmltYXJ5U2VydmljZSIsInNlcnZpY2UiLCJnZXRDaGFyYWN0ZXJpc3RpYyIsImNoYXJhY3RlcmlzdGljIiwiZXZlbnQiLCJ2YWx1ZSIsInRhcmdldCIsImJ1ZmZlciIsInN0YXJ0Tm90aWZpY2F0aW9ucyIsImNhbGxiYWNrTmV3bGluZSIsImNiVGltZW91dCIsIm9uV3JpdHRlbiIsImlzV3JpdGluZyIsImQiLCJuZXdMaW5lSWR4IiwicmVjZWl2ZWQiLCJsIiwiY2xlYXJUaW1lb3V0Iiwid2FpdFRpbWUiLCJtYXhUaW1lIiwic2V0VGltZW91dCIsInRpbWVvdXQiLCJoYWREYXRhIiwiZGVidWciLCJldmFsIiwiZXhwciIsInBhcnNlIiwiaXNDb25uZWN0ZWQiLCJnZXRDb25uZWN0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU1BLElBQUksR0FBSSxZQUFZO0FBQ3RCLE1BQUlDLFFBQUosRUFBY0MsUUFBZDtBQUNBLE1BQUksT0FBT0MsU0FBUCxJQUFvQixXQUF4QixFQUFxQzs7QUFFckMsV0FBU0MsZ0JBQVQsR0FBNEI7QUFDeEI7QUFDQSxRQUFJRCxTQUFTLENBQUNFLFFBQVYsQ0FBbUJDLE9BQW5CLENBQTJCLEtBQTNCLEtBQXFDLENBQXJDLEtBQ0NILFNBQVMsQ0FBQ0ksU0FBVixDQUFvQkQsT0FBcEIsQ0FBNEIsV0FBNUIsS0FBNEMsQ0FBNUMsSUFDREgsU0FBUyxDQUFDSSxTQUFWLENBQW9CRCxPQUFwQixDQUE0QixXQUE1QixLQUE0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RUFBRSxpQkFBWTtBQUNmLFVBQUloQixVQUFKLEVBQ0lBLFVBQVUsQ0FBQ2dCLEtBQVg7QUFDUDtBQWhDTSxHQUFYO0FBa0NBLFNBQU9qQyxJQUFQO0FBQ0gsQ0EzUlksRUFBYjs7QUE2UmV4QixtRUFBZiIsImZpbGUiOiIuL2xpYi9wdWNrLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cbi8qXG4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiBQdWNrLmpzIEJMRSBJbnRlcmZhY2UgbGlicmFyeVxuIENvcHlyaWdodCAyMDE2IEdvcmRvbiBXaWxsaWFtcyAoZ3dAcHVyMy5jby51aylcbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIFRoaXMgY3JlYXRlcyBhICdQdWNrJyBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBmcm9tIHRoZSBXZWIgQnJvd3Nlci5cblxuIFNpbXBsZSB1c2FnZTpcblxuIFB1Y2sud3JpdGUoJ0xFRDEuc2V0KClcXG4nKVxuXG4gRXhlY3V0ZSBleHByZXNzaW9uIGFuZCByZXR1cm4gdGhlIHJlc3VsdDpcblxuIFB1Y2suZXZhbCgnQlROLnJlYWQoKScsIGZ1bmN0aW9uKGQpIHtcbiBhbGVydChkKTtcbiB9KTtcblxuIE9yIHdyaXRlIGFuZCB3YWl0IGZvciBhIHJlc3VsdCAtIHRoaXMgd2lsbCByZXR1cm4gYWxsIGNoYXJhY3RlcnMsXG4gaW5jbHVkaW5nIGVjaG8gYW5kIGxpbmVmZWVkIGZyb20gdGhlIFJFUEwgc28geW91IG1heSB3YW50IHRvIHNlbmRcbiBgZWNobygwKWAgYW5kIHVzZSBgY29uc29sZS5sb2dgIHdoZW4gZG9pbmcgdGhpcy5cblxuIFB1Y2sud3JpdGUoJzErMlxcbicsIGZ1bmN0aW9uKGQpIHtcbiBhbGVydChkKTtcbiB9KTtcblxuIE9yIG1vcmUgYWR2YW5jZWQgdXNhZ2Ugd2l0aCBjb250cm9sIG9mIHRoZSBjb25uZWN0aW9uXG4gLSBhbGxvd3MgbXVsdGlwbGUgY29ubmVjdGlvbnNcblxuIFB1Y2suY29ubmVjdChmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gaWYgKCFjb25uZWN0aW9uKSB0aHJvdyAnRXJyb3IhJztcbiBjb25uZWN0aW9uLm9uKCdkYXRhJywgZnVuY3Rpb24oZCkgeyAuLi4gfSk7XG4gY29ubmVjdGlvbi5vbignY2xvc2UnLCBmdW5jdGlvbigpIHsgLi4uIH0pO1xuIGNvbm5lY3Rpb24ud3JpdGUoJzErMlxcbicsIGZ1bmN0aW9uKCkge1xuIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiB9KTtcbiB9KTtcblxuICovXG5jb25zdCBQdWNrID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXJyb3JTdHIsIGVycm9yVVJMO1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgICBmdW5jdGlvbiBjaGVja0lmU3VwcG9ydGVkKCkge1xuICAgICAgICAvLyBIYWNrIGZvciB3aW5kb3dzXG4gICAgICAgIGlmIChuYXZpZ2F0b3IucGxhdGZvcm0uaW5kZXhPZignV2luJykgPj0gMCAmJlxuICAgICAgICAgICAgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lLzU0JykgPj0gMCB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUvNTUnKSA+PSAwIHx8XG4gICAgICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZS81NicpID49IDApXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDaHJvbWUgPDU2IGluIFdpbmRvd3MgaGFzIG5hdmlnYXRvci5ibHVldG9vdGggYnV0IGl0XFwncyBub3QgaW1wbGVtZW50ZWQgcHJvcGVybHknKTtcbiAgICAgICAgICAgIGlmIChjb25maXJtKCdXZWIgQmx1ZXRvb3RoIG9uIFdpbmRvd3MgaXMgbm90IHlldCBhdmFpbGFibGUuXFxuUGxlYXNlIGNsaWNrIE9rIHRvIHNlZSBvdGhlciBvcHRpb25zIGZvciB1c2luZyBXZWIgQmx1ZXRvb3RoJykpXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJ2h0dHBzOi8vd3d3LmVzcHJ1aW5vLmNvbS9QdWNrLmpzK1F1aWNrK1N0YXJ0JztcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmF2aWdhdG9yLmJsdWV0b290aCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnNvbGUud2FybignTm8gV2ViIEJsdWV0b290aCBvbiB0aGlzIHBsYXRmb3JtJyk7XG4gICAgICAgIGNvbnN0IGlPUyA9IC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICF3aW5kb3cuTVNTdHJlYW07XG4gICAgICAgIGlmIChpT1MpIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKCdUbyB1c2UgV2ViIEJsdWV0b290aCBvbiBpT1MgeW91XFwnbGwgbmVlZCB0aGUgV2ViQkxFIEFwcC5cXG5QbGVhc2UgY2xpY2sgT2sgdG8gZ28gdG8gdGhlIEFwcCBTdG9yZSBhbmQgZG93bmxvYWQgaXQuJykpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAnaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL3VzL2FwcC93ZWJibGUvaWQxMTkzNTMxMDczJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKCdUaGlzIFdlYiBCcm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IFdlYiBCbHVldG9vdGguXFxuUGxlYXNlIGNsaWNrIE9rIHRvIHNlZSBpbnN0cnVjdGlvbnMgZm9yIGVuYWJsaW5nIGl0LicpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJ2h0dHBzOi8vd3d3LmVzcHJ1aW5vLmNvbS9QdWNrLmpzK1F1aWNrK1N0YXJ0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgTk9SRElDX1NFUlZJQ0UgPSAnNmU0MDAwMDEtYjVhMy1mMzkzLWUwYTktZTUwZTI0ZGNjYTllJztcbiAgICBjb25zdCBOT1JESUNfVFggPSAnNmU0MDAwMDItYjVhMy1mMzkzLWUwYTktZTUwZTI0ZGNjYTllJztcbiAgICBjb25zdCBOT1JESUNfUlggPSAnNmU0MDAwMDMtYjVhMy1mMzkzLWUwYTktZTUwZTI0ZGNjYTllJztcbiAgICBjb25zdCBDSFVOS1NJWkUgPSAxNjtcblxuICAgIGZ1bmN0aW9uIGxvZyhsZXZlbCwgcykge1xuICAgICAgICBpZiAocHVjay5sb2cpIHB1Y2subG9nKGxldmVsLCBzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYjJzdHIoYnVmKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0cjJhYihzdHIpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihzdHIubGVuZ3RoKTtcbiAgICAgICAgdmFyIGJ1ZlZpZXcgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgc3RyTGVuID0gc3RyLmxlbmd0aDsgaSA8IHN0ckxlbjsgaSsrKSB7XG4gICAgICAgICAgICBidWZWaWV3W2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbm5lY3QoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCFjaGVja0lmU3VwcG9ydGVkKCkpIHJldHVybjtcblxuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHtcbiAgICAgICAgICAgIG9uOiBmdW5jdGlvbiAoZXZ0LCBjYikge1xuICAgICAgICAgICAgICAgIHRoaXNbJ29uJyArIGV2dF0gPSBjYjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbWl0OiBmdW5jdGlvbiAoZXZ0LCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbJ29uJyArIGV2dF0pIHRoaXNbJ29uJyArIGV2dF0oZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzT3BlbmluZzogdHJ1ZSxcbiAgICAgICAgICAgIHR4SW5Qcm9ncmVzczogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGJ0U2VydmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgYnRTZXJ2aWNlO1xuICAgICAgICB2YXIgY29ubmVjdGlvbkRpc2Nvbm5lY3RDYWxsYmFjaztcbiAgICAgICAgdmFyIHR4Q2hhcmFjdGVyaXN0aWM7XG4gICAgICAgIHZhciByeENoYXJhY3RlcmlzdGljO1xuICAgICAgICB2YXIgdHhEYXRhUXVldWUgPSBbXTtcblxuICAgICAgICBjb25uZWN0aW9uLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29ubmVjdGlvbi5pc09wZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi5lbWl0KCdjbG9zZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ0U2VydmVyKSB7XG4gICAgICAgICAgICAgICAgYnRTZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGJ0U2VydmVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHR4Q2hhcmFjdGVyaXN0aWMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcnhDaGFyYWN0ZXJpc3RpYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25uZWN0aW9uLndyaXRlID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoZGF0YSkgdHhEYXRhUXVldWUucHVzaCh7ZGF0YTogZGF0YSwgY2FsbGJhY2s6IGNhbGxiYWNrfSk7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbi5pc09wZW4gJiYgIWNvbm5lY3Rpb24udHhJblByb2dyZXNzKSB3cml0ZUNodW5rKCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHdyaXRlQ2h1bmsoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNodW5rO1xuICAgICAgICAgICAgICAgIGlmICghdHhEYXRhUXVldWUubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdmFyIHR4SXRlbSA9IHR4RGF0YVF1ZXVlWzBdO1xuICAgICAgICAgICAgICAgIGlmICh0eEl0ZW0uZGF0YS5sZW5ndGggPD0gQ0hVTktTSVpFKSB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rID0gdHhJdGVtLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHR4SXRlbS5kYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rID0gdHhJdGVtLmRhdGEuc3Vic3RyKDAsIENIVU5LU0laRSk7XG4gICAgICAgICAgICAgICAgICAgIHR4SXRlbS5kYXRhID0gdHhJdGVtLmRhdGEuc3Vic3RyKENIVU5LU0laRSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24udHhJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb2coMiwgJ1NlbmRpbmcgJyArIEpTT04uc3RyaW5naWZ5KGNodW5rKSk7XG4gICAgICAgICAgICAgICAgdHhDaGFyYWN0ZXJpc3RpYy53cml0ZVZhbHVlKHN0cjJhYihjaHVuaykpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsb2coMywgJ1NlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0eEl0ZW0uZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHhEYXRhUXVldWUuc2hpZnQoKTsgLy8gcmVtb3ZlIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR4SXRlbS5jYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eEl0ZW0uY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLnR4SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB3cml0ZUNodW5rKCk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZygxLCAnU0VORCBFUlJPUjogJyArIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdHhEYXRhUXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIG5hdmlnYXRvci5ibHVldG9vdGgucmVxdWVzdERldmljZSh7XG4gICAgICAgICAgICBmaWx0ZXJzOiBbXG4gICAgICAgICAgICAgICAge25hbWVQcmVmaXg6ICdGbGFzayd9LFxuICAgICAgICAgICAgICAgIHtuYW1lUHJlZml4OiAnRXNwcnVpbm8nfSxcbiAgICAgICAgICAgICAgICB7c2VydmljZXM6IFtOT1JESUNfU0VSVklDRV19XG4gICAgICAgICAgICBdLCBvcHRpb25hbFNlcnZpY2VzOiBbTk9SRElDX1NFUlZJQ0VdXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRldmljZSkge1xuICAgICAgICAgICAgbG9nKDEsICdEZXZpY2UgTmFtZTogICAgICAgJyArIGRldmljZS5uYW1lKTtcbiAgICAgICAgICAgIGxvZygxLCAnRGV2aWNlIElEOiAgICAgICAgICcgKyBkZXZpY2UuaWQpO1xuICAgICAgICAgICAgLy8gV2FzIGRlcHJlY2F0ZWQ6IFNob3VsZCB1c2UgZ2V0UHJpbWFyeVNlcnZpY2VzIGZvciB0aGlzIGluIGZ1dHVyZVxuICAgICAgICAgICAgLy9sb2coJ0JUPiAgRGV2aWNlIFVVSURzOiAgICAgICcgKyBkZXZpY2UudXVpZHMuam9pbignXFxuJyArICcgJy5yZXBlYXQoMjEpKSk7XG4gICAgICAgICAgICBkZXZpY2UuYWRkRXZlbnRMaXN0ZW5lcignZ2F0dHNlcnZlcmRpc2Nvbm5lY3RlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsb2coMSwgJ0Rpc2Nvbm5lY3RlZCAoZ2F0dHNlcnZlcmRpc2Nvbm5lY3RlZCknKTtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkZXZpY2UuZ2F0dC5jb25uZWN0KCk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNlcnZlcikge1xuICAgICAgICAgICAgbG9nKDEsICdDb25uZWN0ZWQnKTtcbiAgICAgICAgICAgIGJ0U2VydmVyID0gc2VydmVyO1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZlci5nZXRQcmltYXJ5U2VydmljZShOT1JESUNfU0VSVklDRSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNlcnZpY2UpIHtcbiAgICAgICAgICAgIGxvZygyLCAnR290IHNlcnZpY2UnKTtcbiAgICAgICAgICAgIGJ0U2VydmljZSA9IHNlcnZpY2U7XG4gICAgICAgICAgICByZXR1cm4gYnRTZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKE5PUkRJQ19SWCk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNoYXJhY3RlcmlzdGljKSB7XG4gICAgICAgICAgICByeENoYXJhY3RlcmlzdGljID0gY2hhcmFjdGVyaXN0aWM7XG4gICAgICAgICAgICBsb2coMiwgJ1JYIGNoYXJhY3RlcmlzdGljOicgKyBKU09OLnN0cmluZ2lmeShyeENoYXJhY3RlcmlzdGljKSk7XG4gICAgICAgICAgICByeENoYXJhY3RlcmlzdGljLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYXJhY3RlcmlzdGljdmFsdWVjaGFuZ2VkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLmJ1ZmZlcjsgLy8gZ2V0IGFycmF5YnVmZmVyXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi5lbWl0KCdkYXRhJywgYWIyc3RyKHZhbHVlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByeENoYXJhY3RlcmlzdGljLnN0YXJ0Tm90aWZpY2F0aW9ucygpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBidFNlcnZpY2UuZ2V0Q2hhcmFjdGVyaXN0aWMoTk9SRElDX1RYKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoY2hhcmFjdGVyaXN0aWMpIHtcbiAgICAgICAgICAgIHR4Q2hhcmFjdGVyaXN0aWMgPSBjaGFyYWN0ZXJpc3RpYztcbiAgICAgICAgICAgIGxvZygyLCAnVFggY2hhcmFjdGVyaXN0aWM6JyArIEpTT04uc3RyaW5naWZ5KHR4Q2hhcmFjdGVyaXN0aWMpKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLnR4SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5pc09wZW4gPSB0cnVlO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5pc09wZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5lbWl0KCdvcGVuJyk7XG4gICAgICAgICAgICAvLyBpZiB3ZSBoYWQgYW55IHdyaXRlcyBxdWV1ZWQsIGRvIHRoZW0gbm93XG4gICAgICAgICAgICBjb25uZWN0aW9uLndyaXRlKCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgbG9nKDEsICdFUlJPUjogJyArIGVycm9yKTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH07XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgdmFyIGNvbm5lY3Rpb247XG4gICAgLyogY29udmVuaWVuY2UgZnVuY3Rpb24uLi4gV3JpdGUgZGF0YSwgY2FsbCB0aGUgY2FsbGJhY2sgd2l0aCBkYXRhOlxuICAgICBjYWxsYmFja05ld2xpbmUgPSBmYWxzZSA9PiBpZiBubyBuZXcgZGF0YSByZWNlaXZlZCBmb3IgfjAuNSBzZWNcbiAgICAgY2FsbGJhY2tOZXdsaW5lID0gdHJ1ZSA9PiBhZnRlciBhIG5ld2xpbmUgKi9cbiAgICBmdW5jdGlvbiB3cml0ZShkYXRhLCBjYWxsYmFjaywgY2FsbGJhY2tOZXdsaW5lKSB7XG4gICAgICAgIGlmICghY2hlY2tJZlN1cHBvcnRlZCgpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGNiVGltZW91dDtcblxuICAgICAgICBmdW5jdGlvbiBvbldyaXR0ZW4oKSB7XG4gICAgICAgICAgICBpc1dyaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja05ld2xpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jYiA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3TGluZUlkeCA9IGNvbm5lY3Rpb24ucmVjZWl2ZWQuaW5kZXhPZignXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3TGluZUlkeCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSBjb25uZWN0aW9uLnJlY2VpdmVkLnN1YnN0cigwLCBuZXdMaW5lSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLnJlY2VpdmVkID0gY29ubmVjdGlvbi5yZWNlaXZlZC5zdWJzdHIobmV3TGluZUlkeCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uY2IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiVGltZW91dCkgY2xlYXJUaW1lb3V0KGNiVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGFueSByZWNlaXZlZCBkYXRhIGlmIHdlIGhhdmUgYSBjYWxsYmFjay4uLlxuICAgICAgICAgICAgICAgIHZhciB3YWl0VGltZSA9IDEwO1xuICAgICAgICAgICAgICAgIHZhciBtYXhUaW1lID0gd2FpdFRpbWU7XG4gICAgICAgICAgICAgICAgY2JUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkge1xuICAgICAgICAgICAgICAgICAgICBjYlRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoY29ubmVjdGlvbi5oYWREYXRhIHx8IG1heFRpbWUgPT0gd2FpdFRpbWUpICYmIG1heFRpbWUtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2JUaW1lb3V0ID0gc2V0VGltZW91dCh0aW1lb3V0LCAyNTApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjb25uZWN0aW9uLnJlY2VpdmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24ucmVjZWl2ZWQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmhhZERhdGEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LCAyNTApO1xuICAgICAgICAgICAgfSBlbHNlIGNvbm5lY3Rpb24ucmVjZWl2ZWQgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25uZWN0aW9uICYmIChjb25uZWN0aW9uLmlzT3BlbiB8fCBjb25uZWN0aW9uLmlzT3BlbmluZykpIHtcbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbi50eEluUHJvZ3Jlc3MpIGNvbm5lY3Rpb24ucmVjZWl2ZWQgPSAnJztcbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uLndyaXRlKGRhdGEsIG9uV3JpdHRlbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25uZWN0aW9uID0gY29ubmVjdChmdW5jdGlvbiAocHVjaykge1xuICAgICAgICAgICAgaWYgKCFwdWNrKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm5lY3Rpb24ucmVjZWl2ZWQgPSAnJztcbiAgICAgICAgICAgIGNvbm5lY3Rpb24ub24oJ2RhdGEnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24ucmVjZWl2ZWQgKz0gZDtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmhhZERhdGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmNiKSBjb25uZWN0aW9uLmNiKGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25uZWN0aW9uLm9uKCdjbG9zZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29ubmVjdGlvbi53cml0ZShkYXRhLCBvbldyaXR0ZW4pO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHZhciBwdWNrID0ge1xuICAgICAgICAvLy8gQXJlIHdlIHdyaXRpbmcgZGVidWcgaW5mb3JtYXRpb24/IDAgaXMgbm8sIDEgaXMgc29tZSwgMiBpcyBtb3JlLCAzIGlzIGFsbC5cbiAgICAgICAgZGVidWc6IDEsXG4gICAgICAgIC8vLyBVc2VkIGludGVybmFsbHkgdG8gd3JpdGUgbG9nIGluZm9ybWF0aW9uIC0geW91IGNhbiByZXBsYWNlIHRoaXMgd2l0aCB5b3VyIG93biBmdW5jdGlvblxuICAgICAgICBsb2c6IGZ1bmN0aW9uIChsZXZlbCwgcykge1xuICAgICAgICAgICAgaWYgKGxldmVsIDw9IHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCc8QkxFPiAnICsgcylcbiAgICAgICAgfSxcbiAgICAgICAgLyoqIENvbm5lY3QgdG8gYSBuZXcgZGV2aWNlIC0gdGhpcyBjcmVhdGVzIGEgc2VwYXJhdGVcbiAgICAgICAgIGNvbm5lY3Rpb24gdG8gdGhlIG9uZSBgd3JpdGVgIGFuZCBgZXZhbGAgdXNlLiAqL1xuICAgICAgICBjb25uZWN0OiBjb25uZWN0LFxuICAgICAgICAvLy8gV3JpdGUgdG8gUHVjay5qcyBhbmQgY2FsbCBiYWNrIHdoZW4gdGhlIGRhdGEgaXMgd3JpdHRlbi4gIENyZWF0ZXMgYSBjb25uZWN0aW9uIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgd3JpdGU6IHdyaXRlLFxuICAgICAgICAvLy8gRXZhbHVhdGUgYW4gZXhwcmVzc2lvbiBhbmQgY2FsbCBjYiB3aXRoIHRoZSByZXN1bHQuIENyZWF0ZXMgYSBjb25uZWN0aW9uIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgZXZhbDogZnVuY3Rpb24gKGV4cHIsIGNiKSB7XG4gICAgICAgICAgICBpZiAoIWNoZWNrSWZTdXBwb3J0ZWQoKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB3cml0ZSgnXFx4MTBCbHVldG9vdGgucHJpbnRsbihKU09OLnN0cmluZ2lmeSgnICsgZXhwciArICcpKVxcbicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGQgIT09IG51bGwpIGNiKEpTT04ucGFyc2UoZCkpOyBlbHNlIGNiKG51bGwpO1xuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vLyBEaWQgYHdyaXRlYCBhbmQgYGV2YWxgIG1hbmFnZSB0byBjcmVhdGUgYSBjb25uZWN0aW9uP1xuICAgICAgICBpc0Nvbm5lY3RlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgLy8vIGdldCB0aGUgY29ubmVjdGlvbiB1c2VkIGJ5IGB3cml0ZWAgYW5kIGBldmFsYFxuICAgICAgICBnZXRDb25uZWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8vIENsb3NlIHRoZSBjb25uZWN0aW9uIHVzZWQgYnkgYHdyaXRlYCBhbmQgYGV2YWxgXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbilcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBwdWNrO1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgUHVjaztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/puck.js\n");

/***/ })

})